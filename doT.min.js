/*
	Laura Doktorova https://github.com/olado/doT
	Paul Mihailescu https://github.com/Paul1324
*/
(()=>{function r(e,n,t){e=String(e);var r,o=[];let c=0;if("[object RegExp]"==Object.prototype.toString.call(n))for(n.global&&(n.lastIndex=c);null!==(r=n.exec(e));){var i=r.concat([r.index,r.input]);if(o.push(e.slice(c,r.index),t.apply(null,i)),c=n.lastIndex,!n.global)break;0==r[0].length&&n.lastIndex++}else n=String(n),c=e.indexOf(n),o.push(e.slice(0,c),t.apply(null,[n,c,e])),c+=n.length;return o.push(e.slice(c)),Promise.all(o).then(e=>e.join(""))}let i={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},AsyncFunction:async function(){}.constructor,template:void 0,compile:void 0,log:!0},u,a=(i.encodeHTMLSource=function(e){let n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(t,function(e){return n[e]||e}):""}},u=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):u.doT=i,/$^/),l={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}};function d(r,e,n,o,t){if(!((r=0===r.indexOf("def.")?r.substring(4):r)in o)){if(":"!==e)return{code:r,value:n};t.defineParams&&n.replace(t.defineParams,function(e,n,t){o[r]={arg:n,text:t}}),r in o||(o[r]=n)}return null}function s(e,c,n){return e=n.useParams?e.replace(n.useParams,function(e,n,t,r){var o;if(c[t]&&c[t].arg&&r)return o=(t+":"+r).replace(/'|\\/g,"_"),c.__exp=c.__exp||{},c.__exp[o]=c[t].text.replace(new RegExp("(^|[^\\w$])"+c[t].arg+"([^\\w$])","g"),"$1"+r+"$2"),n+"def.__exp['"+o+"']"}):e}function p(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}function o(e,n){let t=n.append?l.append:l.split,r,o=0,c;return n.doNotSkipEncoded=!0===n.doNotSkipEncoded,e=("var out='"+(n.strip?e.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):e).replace(/'|\\/g,"\\$&").replace(n.interpolate||a,function(e,n){return t.start+p(n)+t.end}).replace(n.encode||a,function(e,n){return r=!0,t.startencode+p(n)+t.end}).replace(n.conditional||a,function(e,n,t){return n?t?"';}else if("+p(t)+"){out+='":"';}else{out+='":t?"';if("+p(t)+"){out+='":"';}out+='"}).replace(n.iterate||a,function(e,n,t,r){return n?(o+=1,c=r||"i"+o,n=p(n),"';var arr"+o+"="+n+";if(arr"+o+"){var "+t+","+c+"=-1,l"+o+"=arr"+o+".length-1;while("+c+"<l"+o+"){"+t+"=arr"+o+"["+c+"+=1];out+='"):"';} } out+='"}).replace(n.evaluate||a,function(e,n){return"';"+p(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),r&&(n.selfcontained||!u||u._encodeHTML||(u._encodeHTML=i.encodeHTMLSource(n.doNotSkipEncoded)),e="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+i.encodeHTMLSource.toString()+"("+(n.doNotSkipEncoded||"")+"));"+e),e}i.template=function(e,n,t){t=o((n=n||i.templateSettings).use||n.define?function t(o,e,c){return("string"==typeof e?e:e.toString()).replace(o.define||a,function(e,n,t,r){return(n=d(n,t,r,c,o))&&new Function("def",`def['${n.code}']=`+n.value)(c),""}).replace(o.use||a,function(e,n){return n=s(n,c,o),(n=new Function("def","return "+n)(c))&&t(o,n,c)})}(n,e,t||{}):e,n);try{return new Function(n.varname,t)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+t),e}},i.templateAsync=function(e,t,n){n=(t=t||i.templateSettings).use||t.define?function t(o,e,c){e="string"==typeof e?e:e.toString();return r(e,o.define||a,(e,n,t,r)=>(n=d(n,t,r,c,o))?new i.AsyncFunction("def",`def['${n.code}'] = `+n.value)(c):"").then(e=>r(e,o.use||a,(e,n)=>(n=s(n,c,o),new i.AsyncFunction("def","return "+n)(c).then(e=>e&&t(o,e,c)))))}(t,e,n||{}):e;return Promise.resolve(n).then(n=>{n=o(n,t);try{return new i.AsyncFunction(t.varname,n)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+n),e}})},i.compile=function(e,n){return i.template(e,null,n)},i.compileAsync=function(e,n){return i.templateAsync(e,null,n)}})();